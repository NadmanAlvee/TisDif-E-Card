<%- include('./partials/headers/headerExt.ejs') %>
<link rel="stylesheet" href="/css/checkout.css">

<div class="checkout-container">
    <!-- CUSTOMER INFORMATION -->
    <div class="customer-info">
        <h2>Customer Information</h2>
        <form id="checkout-form" action="/checkout" method="POST">
            <div class="form-group">
                <label for="fullName">Full Name</label>
                <input type="text" name="fullName" id="fullName" required>
            </div>

            <div class="form-group">
                <label for="mobile">Mobile Number</label>
                <input type="text" name="mobile" id="mobile" required>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="text" name="email" id="email" required>
            </div>

            <div class="form-group">
                <label for="address">Address</label>
                <textarea name="address" id="address" rows="3" required></textarea>
            </div>

            <!-- PAYMENT METHOD (Online Only) -->
            <h2>Payment Method</h2>
            <button class="payment-method">
                Online Payment
            </button>

            <!-- DELIVERY METHOD (Home Delivery Only) -->
            <h2>Delivery Method</h2>
            <button class="delivery-method">
                Home Delivery
            </button>

            <!-- YOUR ORDER DIV -->
            <h2>Your Order</h2>
            <div class="order-summary">
                <% let grandTotal = 0; %>
                <ul>
                    <% cartItems.forEach(item => { %>
                        <% grandTotal += item.productId.price * item.selected_quantity; %>
                        <li>
                            <strong><%= item.productId.name %></strong> 
                            - <%= item.selected_quantity %> x <%= item.productId.price %> BDT 
                            = <%= item.productId.price * item.selected_quantity %> BDT
                        </li>
                    <% }); %>
                </ul>
                <p class="grand-total">Grand Total: <%= grandTotal %> BDT</p>
            </div>

            <button type="submit" class="confirm-order-btn">Confirm Order</button>
        </form>
    </div>
</div>

<script src="/scripts/checkout.js" defer></script>
